module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.w={},r(r.s=13)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){t&&e.push(t)};t.getAllWordsInContent=function(e){var t={html:!0,body:!0},r=e.split(/[^a-z]/g),n=!0,o=!1,i=void 0;try{for(var l,u=r[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){t[l.value]=!0}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return t},t.getAllWordsInSelector=function(e){if((e=e.replace(/\[(.+?)\]/g,"").toLowerCase()).includes("[")||e.includes("]"))return[];var t=!1,r="",o=[],i=!0,l=!1,u=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=a.value;t&&!/[ #.]/.test(c)||(/[:*]/.test(c)?(n(o,r),r="",t=!0):/[a-z]/.test(c)?r+=c:(n(o,r),r="",t=!1))}}catch(e){l=!0,u=e}finally{try{!i&&s.return&&s.return()}finally{if(l)throw u}}return n(o,r),o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0);var i=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contentWords=t,this.rejectedSelectors=[],this.wildcardWhitelist=[],this.parseWhitelist(r)}return n(e,[{key:"initialize",value:function(e){e.on("readRule",this.parseRule.bind(this))}},{key:"parseWhitelist",value:function(e){var t=this;e.forEach(function(e){var r;e=e.toLowerCase(),"*"===(r=e)[0]&&"*"===r[r.length-1]?t.wildcardWhitelist.push(e.substr(1,e.length-2)):(0,o.getAllWordsInSelector)(e).forEach(function(e){t.contentWords[e]=!0})})}},{key:"parseRule",value:function(e,t){t.selectors=this.filterSelectors(e)}},{key:"filterSelectors",value:function(e){var t=this.contentWords,r=this.rejectedSelectors,n=this.wildcardWhitelist,i=[];return e.forEach(function(e){if(function(e,t){var r=!0,n=!1,o=void 0;try{for(var i,l=t[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;if(e.includes(u))return!0}}catch(e){n=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(n)throw o}}return!1}(e,n))i.push(e);else{var l=(0,o.getAllWordsInSelector)(e);l.filter(function(e){return t[e]}).length===l.length?i.push(e):r.push(e)}}),i}}]),e}();t.default=i},function(e,t){e.exports=require("node-emoji")},function(e,t){e.exports=require("colors")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(3);var n=r(2),o=void 0;t.default={printInfo:function(e){var t=((o-e)/o*100).toFixed(1);console.log(("> This cleanup could reduce your file size by ~ "+t+"%\n").yellow)},printRejected:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=((o-t)/o*100).toFixed(1);return console.log("\n> Useless CSS Found! - Validation Failed".red.bold),console.log("  ________________________________________________________________\n"),console.log("  Please review or add to whitelist definitions for the CSS below:\n"),console.log("  "+e.join("\n  ")+"\n\n"),console.log(("  This cleanup could reduce your file size by ~ "+r+"%\n").yellow),e},printValidated:function(e){return console.log("\n> No Useless CSS - Validation Passed".green.bold),console.log("  ________________________________________________________________\n"),console.log("  "+n.get(":white_check_mark:")+"  "+e.join("\n  "+n.get(":white_check_mark:")+"  ")+"\n"),!0},startLog:function(e){o=e}}},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("uglify-js")},function(e,t){e.exports=require("glob")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filesToSource=t.getFilesFromPatternArray=t.concatFiles=void 0;var n,o=r(7),i=(n=o)&&n.__esModule?n:{default:n};var l=r(6),u=r(5),a=function(e){try{var t=l.parse(e);t.figure_out_scope();var r=l.Compressor({warnings:!1});(t=t.transform(r)).figure_out_scope(),t.compute_char_frequency(),t.mangle_names({toplevel:!0}),e=t.print_to_string().toLowerCase()}catch(e){}return e.toLowerCase()},s=t.concatFiles=function(e,t){return e.reduce(function(e,r){var n="";try{n=u.readFileSync(r,"utf8"),n=t.compress?a(n):n}catch(e){console.warn(e.message)}return""+e+n+" "},"")},c=t.getFilesFromPatternArray=function(e){var t={},r=!0,n=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var s=l.value;try{u.statSync(s),t[s]=!0}catch(e){i.default.sync(s).forEach(function(e){t[e]=!0})}}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return Object.keys(t)},f=t.filesToSource=function(e,t){var r="content"===t,n={compress:r};return Array.isArray(e)?(e=c(e),s(e,n)):r?a(e):e};t.default={concatFiles:s,filesToSource:f,getFilesFromPatternArray:c}},function(e,t){e.exports=require("rework")},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(10),l=r(9),u=(n=l)&&n.__esModule?n:{default:n};var a=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.startingSource=e,n.ast=null,r.forEach(function(e){e.initialize(n)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.EventEmitter),o(t,[{key:"beginReading",value:function(){this.ast=(0,u.default)(this.startingSource).use(this.readPlugin.bind(this))}},{key:"readPlugin",value:function(e){this.readRules(e.rules),this.removeEmptyRules(e.rules)}},{key:"readRules",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value;"rule"===l.type&&this.emit("readRule",l.selectors,l),"media"===l.type&&this.readRules(l.rules)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}},{key:"removeEmptyRules",value:function(e){var t=[],r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value,a=u.type;"rule"===a&&0===u.selectors.length&&t.push(u),"media"===a&&(this.removeEmptyRules(u.rules),0===u.rules.length&&t.push(u))}}catch(e){n=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(n)throw o}}t.forEach(function(t){var r=e.indexOf(t);e.splice(r,1)})}},{key:"toString",value:function(){return this.ast?this.ast.toString().replace(/,\n/g,","):""}}]),t}();t.default=a},function(e,t){e.exports=require("clean-css")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(12)),o=s(r(11)),i=s(r(8)),l=s(r(4)),u=s(r(1)),a=r(0);function s(e){return e&&e.__esModule?e:{default:e}}var c={output:!1,minify:!1,info:!1,rejected:!1,validationOutput:!1,validationProcessExit:!1,whitelist:[],cleanCssOptions:{}},f=function(e,t){return new n.default(t).minify(e).styles};t.default=function(e,t,r){r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var r in c)t&&(t[r]=e[r]||c[r]);return t}(r);var n=i.default.filesToSource(t,"css"),s=i.default.filesToSource(e,"content");l.default.startLog(f(n).length);var _=(0,a.getAllWordsInContent)(s),d=new u.default(_,r.whitelist),y=new o.default(n,[d]);y.beginReading();var p=y.toString();return p=r.minify?f(p,r.cleanCssOptions):p,r.info&&(r.minify?l.default.printInfo(p.length):l.default.printInfo(f(p,r.cleanCssOptions).length)),r.rejected&&d.rejectedSelectors.length&&(l.default.printRejected(d.rejectedSelectors,f(p,r.cleanCssOptions).length),r.validationProcessExit&&process.exit(1)),!d.rejectedSelectors.length&&r.validationOutput&&l.default.printValidated(t),!0}}]).default;